<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generic Page</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <!-- Estilos Nav Bar -->
    <link rel="stylesheet" href="./styles/navBarStyles.css">
    <!-- Estilos Main Container -->
    <link rel="stylesheet" href="./styles/mainContainerStyles.css">
    <!-- Estilos Footer -->
    <link rel="stylesheet" href="./styles/footerStyles.css">
    <link rel="stylesheet" href="./styles/Loginstyles.css">
    <link rel="preconnect" href="https" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Raleway:wght@100&family=Skranji&display=swap"
        rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
    <div id="header-container">
        <header id="nav-bar-container"></header>
    </div>

    <div id="content-container">
        <div class="container">
            <div class="row">
                <div class="col-md-6 " id="Bienvenido">
                    <div class="bienvenido">
                        <div class="infochilds text-center">
                            <h2> Bienvenido </h2> <br>
                            <img src="./assets/img/shuncos_logo_nav_bar.png"
                                alt="Logo de Shuncos">
                            <input type="button" value="Iniciar Sesión" id="show-login">
                        </div>
                    </div>
                </div>
                <div class="col-md-6 ">
                    <div class="information">
                        <div class="form-information" id="form-information">
                            <div class="form-information-child">
                                <h2> Crear Cuenta</h2>
                                <p> Ingresa tus datos para crear una cuenta </p>
                                <form class="form">
                                    <label>
                                        <i class="bx bx-user"></i>
                                        <input type="text" placeholder="Nombre Completo" id="fullName">
                                    </label>
                                    <label>
                                        <i class="bx bx-user-circle"></i>
                                        <input type="text" placeholder="Nombre de Usuario" id="newUsername">
                                    </label>
                                    <label>
                                        <i class="bx bx-envelope"></i>
                                        <input type="email" placeholder="Correo Electrónico" id="email">
                                    </label>
                                    <label>
                                        <i class="bx bx-lock-alt"></i>
                                        <input type="password" placeholder="Contraseña" id="newPassword">
                                    </label>
                                    <input type="button" value="Registrarme" id="registerButton">
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="login-container" style="display: none;">
        <h2>Iniciar Sesión</h2>
        <form id="login-form">
            <label for="username"></label>
            <input type="text" placeholder="Usuario" id="username" name="username" required>
            <label for="password"></label>
            <input type="password" placeholder="Contraseña" id="password" name="password" required>
            <input type="submit" value="Iniciar Sesión">
        </form>
    </div>

    <div id="login-success-popup" style="display: none;">
        <p>Inicio de sesión exitoso. ¡Bienvenido!</p>
    </div>

    <div id="registration-success-popup" style="display: none;">
        <p>Registro exitoso. ¡Inicia sesión para continuar!</p>
    </div>

    <footer id="footer-container" class="p-3"></footer>
        <!-- Load Nav Bar -->
        <script src="./javascripts/loadNavBar.js" fuente="root"></script>
        <!-- Load Footer -->
        <script src="./javascripts/loadFooter.js" fuente="root"></script>
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"></script>

    <script>
        
        function hidePopups() {
            document.getElementById('login-success-popup').style.display = 'none';
            document.getElementById('registration-success-popup').style.display = 'none';
        }

        document.getElementById('show-login').addEventListener('click', function () {
            document.getElementById('content-container').style.display = 'none';
            document.getElementById('login-container').style.display = 'block';
        });

        document.getElementById('login-form').addEventListener('submit', function (event) {
            event.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            const registeredUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];
            const user = registeredUsers.find(u => u.username === username && u.password === password);

            if (user) {
                hidePopups();
                alert("Inicio de sesión exitoso. ¡Bienvenido!");
            } else {
                alert("Credenciales incorrectas. Inténtalo de nuevo.");
            }
        });

        const registerButton = document.getElementById('registerButton');
        registerButton.addEventListener('click', function () {
            const fullName = document.getElementById('fullName').value;
            const newUsername = document.getElementById('newUsername').value;
            const email = document.getElementById('email').value;
            const newPassword = document.getElementById('newPassword').value;

            const newUser = { username: newUsername, password: newPassword };
            const existingUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];

            existingUsers.push(newUser);
            localStorage.setItem('registeredUsers', JSON.stringify(existingUsers));

            hidePopups();
            alert("registro exitoso. ¡Bienvenido!");
        });

        document.body.addEventListener('click', hidePopups);
    </script>
</body>
</html>